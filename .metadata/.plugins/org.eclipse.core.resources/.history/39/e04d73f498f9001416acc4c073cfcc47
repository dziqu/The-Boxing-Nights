package Inne;

import java.io.File;
import java.io.IOException;
import java.util.List;

import org.apache.commons.io.FileUtils;

import Enumy.EZnakiSpecjalne;
import Interfejsy.IIO;

/**
 * Klasa reprezentuj¹ca wyœwietlanie i pobieranie
 * danych.
 */
public abstract class IO implements IIO {
	
	/**
	 * Drukuje tekst.
	 * @param s tekst
	 */
	public static <T> void drukuj(T s) { System.out.print(s); }
	
	/**
	 * Drukuje tekst.
	 * @param lista lista do wydrukowania
	 */
	public static <T> void drukuj(List<T> lista) { lista.forEach(System.out::print); }
	
	public static <T> void drukuj(File plik) {
		try { plik.createNewFile(); } catch (Exception ex) { ex.printStackTrace(); }
	}
	
	/**
	 * Drukuje tekst.
	 * @param plik plik do zapisu
	 * @param s tekst
	 */
	public static <T> void drukuj(File plik, T s) {
		try { FileUtils.writeStringToFile(plik, String.valueOf(s)); } catch (Exception ex) { ex.printStackTrace(); }
	}
	
	/**
	 * Drukuje tekst.
	 * @param plik plik do zapisu
	 * @param lista lista do zapisu
	 */
	public static <T> void drukuj(File plik, List<T> lista) throws IOException { 
		try {
			String linia = lista.stream().map(e -> String.valueOf(e)).reduce(pustyString, (a, e) -> a+e);
			drukuj(plik, linia); } catch (Exception ex) {ex.printStackTrace();}
	}
	
	/**
	 * Drukuje tekst z now¹ lini¹.
	 * @param s tekst
	 */
	public static <T> void drukujL(T s) { System.out.println(s); }
	
	/**
	 * Drukuje tekst z now¹ lini¹.
	 * @param lista lista do wydruku
	 */
	public static <T> void drukujL(List<T> lista) { lista.forEach(System.out::println); }
	
	/**
	 * Drukuje tekst z now¹ lini¹.
	 * @param plik plik do zapisu
	 * @param lista lista do wydruku
	 */
	public static <T> void drukujL(File plik, List<T> lista) { 
		String linia = lista.stream().map(e -> String.valueOf(e)).reduce(pustyString, (a, e) -> a+e+nowaLinia);
		drukuj(plik, linia);
	}
	
	/**
	 * Skanuje plik.
	 * @param plik plik do odczytu
	 * @return lista danych
	 */
	@SuppressWarnings("finally")
	public static List<String> skanuj(File plik) { 
		List <String> lista = null;
		try { lista = FileUtils.readLines(plik); } 
		catch (IOException e) { e.printStackTrace(); } 
		finally { return lista; }
	}
	
	/**
	 * Skanuje plik i zwraca ci¹g znaków.
	 * @param plik plik do odczytu
	 * @return ci¹g znaków
	 */
	@SuppressWarnings("finally")
	public static String skanujS(File plik) {
		String linie = "";
		try { linie = FileUtils.readLines(plik).stream().map(e -> String.valueOf(e)).reduce(pustyString, (a, e) -> a+e); } 
		catch (IOException e) { e.printStackTrace(); } 
		finally { return linie; }
	}
	
	/**
	 * Skanuje plik z now¹ lini¹ i zwraca w postaci ci¹gu
	 * znaków.
	 * @param plik plik do odczytu
	 * @return ci¹g znaków
	 */
	@SuppressWarnings("finally")
	public static String skanujSL(File plik) {
		String linie = "";
		try { linie = FileUtils.readLines(plik).stream().map(e -> String.valueOf(e)).reduce(pustyString, (a, e) -> a+e+nowaLinia); }
		catch (Exception e) {e.printStackTrace();}
		finally { return linie; }
	}
	
	public static Boolean istniejePlik(File plik) { return plik.exists(); }
	
	public static Boolean istniejePlik(String nazwa) {return new File(nazwa).exists(); }
	
	/**
	 * Inicjuje obiekt.
	 * @param o obiekt
	 * @return obiekt
	 */
	private static <T> T inicjujObiekt(T o ) { return o; }
	
	private static final String pustyString = inicjujObiekt(EZnakiSpecjalne.PUSTY_STRING.zwróæZnak());
	private static final String nowaLinia = inicjujObiekt(EZnakiSpecjalne.NOWA_LINIA.zwróæZnak());

}
